@using DeerskinSimulation.Resources
@using DeerskinSimulation.ViewModels
@code {
    [Parameter] public EventCallback<SellOptionsViewModel> OnSellConfirmed { get; set; }
    [Parameter] public EventCallback OnSellCancelled { get; set; }
    [Parameter] public int DefaultNumberOfSkins { get; set; }

    private SellOptionsViewModel sellOptionsViewModel = new SellOptionsViewModel();

    protected override void OnInitialized()
    {
        sellOptionsViewModel.NumberOfSkins = DefaultNumberOfSkins;
    }

    private void ConfirmSell()
    {
        OnSellConfirmed.InvokeAsync(sellOptionsViewModel);
    }

    private void CancelSell()
    {
        OnSellCancelled.InvokeAsync();
    }
}

<div class="sell-options">
    <h5>@UIStr.SellToTraderButton</h5>
    <label for="numberOfSkins">@UIStr.SkinsLabel</label>
    <input type="number" id="numberOfSkins" class="form-control" @bind="sellOptionsViewModel.NumberOfSkins" min="1" />
    <button class="btn btn-success mt-2" @onclick="ConfirmSell">Confirm</button>
    <button class="btn btn-secondary mt-2" @onclick="CancelSell">Cancel</button>
</div>

<style>
    .sell-options {
        padding: 1rem;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #f8f9fa;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1000;
    }
</style>
